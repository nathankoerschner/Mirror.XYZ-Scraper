"{\"content\":{\"body\":\"## 0.è´¦æˆ· äº¤æ˜“ æ¶ˆæ¯\\n\\n### è´¦æˆ·\\n\\nä»¥å¤ªåŠè´¦æˆ·ä¸æˆ‘ä»¬æ‰€çŸ¥çš„è´¦æˆ·æ¦‚å¿µæœ‰ä¸€å®šç›¸ä¼¼ä¹‹å¤„ï¼Œå´åˆæœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œæ›´ä¸åŒäºæ¯”ç‰¹å¸ä¸­UTXOã€‚ è´¦æˆ·åˆ†ä¸¤ç±»ï¼š\\n\\n* å¤–éƒ¨æ‹¥æœ‰è´¦æˆ·(EOA)ï¼Œä¹Ÿå°±æ˜¯æ™®é€šè´¦æˆ·\\n* åˆçº¦è´¦æˆ·\\n\\n#### 1.æ™®é€šè´¦æˆ·\\n\\næ‰€è°“çš„æ™®é€šè´¦æˆ·å°±æ˜¯æˆ‘ä»¬å­˜æ”¾ä»¥å¤ªå¸çš„è´¦æˆ·ï¼Œå¯ä»¥éšæ„ç”Ÿæˆï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š\\n\\n* æ‹¥æœ‰ä»¥å¤ªå¸ä½™é¢ï¼ˆä»¥å¤ªå¸å­˜æ”¾çš„åœ°æ–¹ï¼Œä¸æ¯”ç‰¹å¸çš„UTXOæ¨¡å¼ä¸åŒï¼‰çš„balanceã€‚\\n* ç”¨äºç¡®å®šæ¯ç¬”äº¤æ˜“åªèƒ½è¢«å¤„ç†ä¸€æ¬¡çš„è®¡æ•°å™¨ï¼ˆnonceï¼‰ã€‚\\n* å‘é€äº¤æ˜“ï¼ˆä»¥å¤ªå¸è½¬è´¦ã€å‘å¸ƒåˆçº¦ã€è°ƒç”¨æ™ºèƒ½åˆçº¦ï¼‰\\n* é€šè¿‡ç§é’¥æ§åˆ¶\\n* æ²¡æœ‰ç›¸å…³è”çš„ä»£ç \\n\\n#### 2. åˆçº¦è´¦æˆ·\\n\\nåˆçº¦è´¦æˆ·ä¹Ÿæ˜¯æœ€æ¿€åŠ¨äººå¿ƒçš„æ¦‚å¿µå’Œåº•å±‚ä»£ç å®ç°ï¼Œå®ƒæ˜¯åŠŸèƒ½å’Œæ•°æ®çš„é›†åˆï¼Œå­˜åœ¨äºä»¥å¤ªåŠçš„ç‰¹å®šåœ°å€ï¼ˆå‘å¸ƒæ™ºèƒ½åˆçº¦çš„åœ°å€ä¸Šï¼‰ï¼Œæ‹¥æœ‰ä¸€ä¸‹ç‰¹æ€§ï¼š\\n\\næ‹¥æœ‰ä»¥å¤ªå¸ä½™é¢\\næœ‰ç›¸å…³è”çš„ä»£ç \\né€šè¿‡äº¤æ˜“æˆ–æ¶ˆæ¯è°ƒç”¨çš„æ–¹å¼è§¦å‘å¹¶ç”±ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰è§£é‡Šæ‰§è¡Œ\\nå½“è¢«æ‰§è¡Œæ—¶ï¼š\\n\\nè¿è¡Œåœ¨éšæœºå¤æ‚åº¦ï¼ˆå›¾çµå®Œå¤‡æ€§ï¼‰\\nåªèƒ½æ“ä½œå…¶æ‹¥æœ‰çš„ç‰¹å®šå‚¨å­˜ï¼Œä¾‹å¦‚å¯ä»¥æ‹¥æœ‰å…¶æ°¸ä¹…state\\nå¯ä»¥callå…¶ä»–åˆçº¦\\næ‰€æœ‰ä»¥å¤ªåŠåŒºå—é“¾ä¸Šçš„æ“ä½œéƒ½æ˜¯ç”±å„è´¦æˆ·å‘èµ·çš„äº¤æ˜“æ¥å‡ºå‘ã€‚æ™ºèƒ½åˆçº¦è´¦æˆ·æ”¶åˆ°ä¸€ç¬”äº¤æ˜“ï¼Œäº¤æ˜“æ‰€å¸¦çš„å‚æ•°éƒ½ä¼šæˆä¸ºä»£ç çš„å…¥å‚ã€‚åˆçº¦ä»£ç ä¼šè¢«ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰åœ¨æ¯ä¸€ä¸ªå‚ä¸ç½‘ç»œçš„èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œä»¥ä½œä¸ºå®ƒä»¬æ–°åŒºå—çš„éªŒè¯ã€‚\\n\\n### äº¤æ˜“\\n\\nâ€œäº¤æ˜“â€æœ¯è¯­é€šä¿—æ¥è®²å°±æ˜¯ä¸€ä¸ªè´¦æˆ·å‘å¦å¤–ä¸€ä¸ªè´¦æˆ·å‘é€ä¸€ç¬”è¢«ç­¾åçš„æ¶ˆæ¯æ•°æ®åŒ…çš„è¿‡ç¨‹ï¼ŒåŒºå—é“¾ä¼šè®°å½•å¹¶å­˜å‚¨ç›¸åº”çš„æ•°æ®ã€‚å»¶ä¼¸ä¸€ä¸‹ï¼Œè°ƒç”¨æ™ºèƒ½åˆçº¦æ”¹å˜ä¸€ä¸ªåˆçº¦è´¦æˆ·çš„æ•°æ®çŠ¶æ€ï¼Œä¹Ÿæ˜¯ä¸€ç¬”äº¤æ˜“ï¼ŒåŒæ ·éœ€è¦èŠ±è´¹æ‰‹ç»­è´¹ã€‚\\n\\näº¤æ˜“åŒ…æ‹¬ï¼š\\n\\næ¶ˆæ¯çš„å‘é€è€… æ¶ˆæ¯çš„æ¥æ”¶è€… ç­¾åä¿¡æ¯ï¼Œç”¨æ¥è¯æ˜å‘é€è€…æœ‰æ„å‘é€šè¿‡åŒºå—é“¾å‘æ¥æ”¶è€…å‘é€æ¶ˆæ¯ ä»·å€¼åŸŸï¼Œä»å‘é€æ–¹è½¬ç§»åˆ°æ¥å—æ–¹çš„ä»¥å¤ªå¸çš„æ•°é‡ å¯é€‰çš„æ•°æ®åŸŸï¼Œç”¨æ¥å‚¨å­˜æ™ºèƒ½åˆçº¦æˆ–è°ƒç”¨æ™ºèƒ½åˆçº¦çš„ä»£ç  gasLimitï¼Œè¯¥äº¤æ˜“çš„æ‰§è¡Œæ—¶ä½¿ç”¨gasçš„ä¸Šé™ gasPriceï¼Œäº¤æ˜“å‘é€è€…æ„¿æ„æ”¯ä»˜çš„gasè´¹ç”¨çš„ä»·æ ¼ã€‚ä¸€ä¸ªå•ä½çš„gasè¡¨ç¤ºäº†æ‰§è¡Œä¸€ä¸ªåŸºæœ¬æŒ‡ä»¤ï¼Œä¾‹å¦‚ä¸€ä¸ªè®¡ç®—æ­¥éª¤ã€‚\\n\\n### æ¶ˆæ¯\\n\\nåˆçº¦å…·æœ‰å‘é€â€æ¶ˆæ¯â€åˆ°å…¶ä»–åˆçº¦çš„èƒ½åŠ›ã€‚æ¶ˆæ¯æ˜¯ä¸€ä¸ªæ°¸ä¸ä¸²è¡Œä¸”åªåœ¨ä»¥å¤ªåŠæ‰§è¡Œç¯å¢ƒä¸­å­˜åœ¨çš„è™šæ‹Ÿå¯¹è±¡ã€‚å®ƒä»¬å¯ä»¥è¢«ç†è§£ä¸ºå‡½æ•°è°ƒç”¨ï¼ˆfunction callsï¼‰ã€‚æ›¾æœ‰äººå’¨è¯¢ï¼Œæ™ºèƒ½åˆçº¦æ˜¯å¦å¯ä»¥è°ƒç”¨æ¯”ç‰¹å¸è½¬è´¦ï¼Œè¿™é‡Œçš„è§£é‡Šå·²ç»ç»™å‡ºäº†æ˜ç¡®çš„ç­”å¤ã€‚\\n\\næ¶ˆæ¯åŒ…æ‹¬ï¼š\\n\\n* æ¶ˆæ¯å‘é€è€…\\n* æ¶ˆæ¯çš„æ¥æ”¶è€…\\n* å¯é€‰çš„æ•°æ®åŸŸï¼Œåˆçº¦å®é™…ä¸Šçš„è¾“å…¥æ•°æ®\\n* gasLimitï¼ŒåŒäº¤æ˜“ã€‚\\n\\næ€»ä½“æ¥è¯´ï¼Œä¸€ä¸ªæ¶ˆæ¯å°±æ˜¯ä¸€ç¬”äº¤æ˜“ï¼Œé™¤äº†å®ƒä¸æ˜¯ç”±å¤–éƒ¨è´¦æˆ·ç”Ÿæˆï¼Œè€Œæ˜¯åˆçº¦è´¦æˆ·ç”Ÿæˆã€‚å½“åˆçº¦æ­£åœ¨æ‰§è¡Œçš„ä»£ç ä¸­è¿è¡Œäº†call æˆ–è€…delegatecallè¿™ä¸¤ä¸ªå‘½ä»¤æ—¶ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæ¶ˆæ¯ã€‚æ¶ˆæ¯æœ‰çš„æ—¶å€™ä¹Ÿè¢«ç§°ä¸ºâ€å†…éƒ¨äº¤æ˜“â€ã€‚ä¸ä¸€ä¸ªäº¤æ˜“ç±»ä¼¼ï¼Œä¸€ä¸ªæ¶ˆæ¯ä¼šå¼•å¯¼æ¥æ”¶çš„è´¦æˆ·è¿è¡Œå®ƒçš„ä»£ç ã€‚å› æ­¤ï¼Œåˆçº¦è´¦æˆ·å¯ä»¥ä¸å…¶ä»–åˆçº¦è´¦æˆ·å‘ç”Ÿå…³ç³»ã€‚\\n\\n## 1. Gas\\n\\n### Gas å®šä¹‰\\n\\nGas ç”¨æ¥è¡¡é‡æ‰§è¡ŒæŸäº›åŠ¨ä½œéœ€è¦å¤šå°‘â€œå·¥ä½œé‡â€ï¼Œè¿™äº›â€œå·¥ä½œé‡â€å°±æ˜¯ä¸ºäº†æ‰§è¡Œè¯¥åŠ¨ä½œæ”¯ä»˜ç»™ç½‘ç»œçš„è´¹ç”¨é¢ã€‚Gas æ˜¯ç»™çŸ¿å·¥çš„ä½£é‡‘ï¼Œå¹¶ä»¥ ETH æ”¯ä»˜ï¼Œæ— è®ºæ˜¯äº¤æ˜“ã€æ‰§è¡Œ[æ™ºèƒ½åˆçº¦](https://so.csdn.net/so/search?q=%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6&spm=1001.2101.3001.7020)å¹¶å¯åŠ¨ DAppsï¼Œè¿˜æ˜¯æ”¯ä»˜æ•°æ®å­˜å‚¨è´¹ç”¨ï¼Œéƒ½éœ€è¦ç”¨åˆ° Gasã€‚\\n\\nå¯¹äºæ¯ä¸ªè¢«æ‰§è¡Œçš„å‘½ä»¤éƒ½ä¼šæœ‰ä¸€ä¸ªç‰¹å®šçš„æ¶ˆè€—ï¼Œç”¨å•ä½gasè®¡æ•°ã€‚æ¯ä¸ªåˆçº¦å¯ä»¥åˆ©ç”¨çš„å‘½ä»¤éƒ½ä¼šæœ‰ä¸€ä¸ªç›¸åº”çš„gaså€¼ã€‚gasä½¿ç”¨ETHæ¥æ”¯ä»˜ã€‚\\n\\n### Gas ç»„æˆ\\n\\næŒ‡ä»¤ä»·ç›®è¡¨:\\n\\n[æŒ‡ä»¤ä»·ç›®è¡¨](https://docs.google.com/spreadsheets/d/1m89CVujrQe5LAFJ8-YAUCcNK950dUzMQPMJBxRtGCqs/edit#gid=0)\\n\\nä¸¾å‡ ä¸ªä¾‹å­ï¼š\\n\\n* ADDï¼šåŠ æ³•æ“ä½œ 3Gas\\n* MULï¼šä¹˜æ³•æ“ä½œ 5Gas\\n* SUBï¼šå‡æ³•æ“ä½œ 3Gas\\n* DIVï¼šé™¤æ³•æ“ä½œ 5Gas\\n* HASHï¼šè®¡ç®—å“ˆå¸Œå€¼ 30Gas\\n\\nGasPriceä»¥Gweiä¸ºå•ä½ã€‚\\n\\n[ä»¥å¤ªä¸»ç½‘çš„åŒºå—æƒ…å†µå…¨æ™¯å›¾](https://ethstats.net/)\\n\\nç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š Gas limit(é™åˆ¶)\\\\* Gas Price(ä»·æ ¼)\\n\\n* Gas Price æ˜¯ Gwei çš„æ•°é‡ï¼Œæ˜¯æŒ‡ç”¨æˆ·æ„¿æ„èŠ±è´¹äºæ¯ä¸ª Gas å•ä½çš„ä»·é’±ï¼Œfrontierç‰ˆ é»˜è®¤ä¸º 0.05 Gweiã€‚\\n* Gas Limitæ ¹æ®æ‰®æ¼”è§’è‰²çš„ä¸»å®¢è§‚åŒºåˆ†ï¼Œåˆ†ä¸ºç”¨æˆ·äº¤æ˜“gaslimitï¼ˆä»£ç ä¸­é€šå¸¸è®°tx.Gas()ï¼‰ä¸æ—·å·¥åŒºå—gaslimit(ä»£ç ä¸­é€šå¸¸è®°herader.GasLimit)ã€‚\\n\\n1. ç”¨æˆ·äº¤æ˜“Gas limit:ç”¨æˆ·æ„¿æ„ä¸ºæ‰§è¡ŒæŸä¸ªæ“ä½œæˆ–ç¡®è®¤äº¤æ˜“æ”¯ä»˜çš„æœ€å¤§Gasé‡ï¼ˆæœ€å°‘21,000ï¼‰ï¼Œè‡³äºèŠ±è´¹è¿™äº›Gasé‡æ˜¯å¦èƒ½å®Œæˆå·¥ä½œæ˜¯ä¸ç¡®å®šçš„ã€‚\\n2. æ—·å·¥åŒºå—gaslimit:åŒºå—Gas limitæ˜¯å•ä¸ªåŒºå—å…è®¸çš„æœ€å¤šgasæ€»é‡ï¼Œä»¥æ­¤å¯ä»¥ç”¨æ¥å†³å®šå•ä¸ªåŒºå—ä¸­èƒ½æ‰“åŒ…å¤šå°‘ç¬”äº¤æ˜“ã€‚\\n\\n```\\n ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰5ç¬”äº¤æ˜“çš„gas limitåˆ†åˆ«æ˜¯10ã€20ã€30ã€40å’Œ50.å¦‚æœåŒºå—gas limitæ˜¯100ï¼Œé‚£ä¹ˆå‰4ç¬”äº¤æ˜“å°±èƒ½è¢«æˆåŠŸæ‰“åŒ…è¿›å…¥è¿™ä¸ªåŒºå—ã€‚çŸ¿å·¥æœ‰æƒå†³å®šå°†å“ªäº›äº¤æ˜“æ‰“åŒ…å…¥åŒºå—ã€‚æ‰€ä»¥ï¼Œå¦ä¸€ä¸ªçŸ¿å·¥å¯ä»¥é€‰æ‹©æ‰“åŒ…æœ€åä¸¤ç¬”äº¤æ˜“è¿›å…¥è¿™ä¸ªåŒºå—ï¼ˆ50+40ï¼‰ï¼Œç„¶åå†å°†ç¬¬ä¸€ç¬”äº¤æ˜“æ‰“åŒ…ï¼ˆ10ï¼‰ã€‚å¦‚æœä½ å°è¯•å°†ä¸€ä¸ªä¼šä½¿ç”¨è¶…è¿‡å½“å‰åŒºå—Gas limitçš„äº¤æ˜“æ‰“åŒ…ï¼Œè¿™ä¸ªäº¤æ˜“ä¼šè¢«ç½‘ç»œæ‹’ç»ï¼Œä½ çš„ä»¥å¤ªåŠå®¢æˆ·ç«¯ä¼šåé¦ˆé”™è¯¯\\\"äº¤æ˜“è¶…è¿‡åŒºå—Gas limit\\\",ï¼ˆ Gas limitæœ€å°‘21,000 )ã€‚\\n```\\n\\nä»¥å¤ªå¸å•ä½æ¢ç®— å•ä½\\n\\nå•ä½\\tweiå€¼\\tWei\\nwei\\t1\\t1 wei\\nKwei (babbage)\\t1e3 wei\\t1,000\\nMwei (lovelace)\\t1e6 wei\\t1,000,000\\nGwei (shannon)\\t1e9 wei\\t1,000,000,000\\nmicroether (szabo)\\t1e12 wei\\t1,000,000,000,000\\nmilliether (finney)\\t1e15 wei\\t1,000,000,000,000,000\\nether\\t1e18 wei\\t1,000,000,000,000,000,000\\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\\n\\n### Gas å®é™…èŠ±è´¹\\n\\nä¸€ä¸ªäº¤æ˜“çš„å®é™…äº¤æ˜“è´¹ç”±ä¸¤ä¸ªå› ç´ ç»„æˆï¼š\\n\\n* gasUsedï¼šæ¯ä¸ªEVMä¸­çš„å‘½ä»¤éƒ½è¢«è®¾ç½®äº†ç›¸åº”çš„gasæ¶ˆè€—å€¼ã€‚gasUsedæ˜¯æ‰€æœ‰è¢«æ‰§è¡Œçš„å‘½ä»¤çš„gasæ¶ˆè€—å€¼æ€»å’Œã€‚\\n* gasPriceï¼šè¯¥äº¤æ˜“ä¸­å•ä½gasçš„ä»·æ ¼ï¼ˆç”¨ä»¥å¤ªå¸è®¡ç®—ï¼‰\\n\\n```\\n   äº¤æ˜“è´¹ = gasUsed * gasPrice\\n```\\n\\nä»¥å¤ªåŠå…³äºäº¤æ˜“çš„ç»“æ„ä½“ï¼Œå’Œå…¶åŒ…å«çš„Priceã€GasLimit:\\n\\n```\\ntype Transaction struct {\\n\\tdata txdata\\n\\t// caches\\n\\thash atomic.Value\\n\\tsize atomic.Value\\n\\tfrom atomic.Value\\n}\\n \\ntype txdata struct {\\n\\tAccountNonce uint64          `json:\\\"nonce\\\"    gencodec:\\\"required\\\"`\\n\\tPrice        *big.Int        `json:\\\"gasPrice\\\" gencodec:\\\"required\\\"`//ç”¨æˆ·ä¸ºæ¯ä¸ªgaså‡ºå•ä»·\\n\\tGasLimit     uint64          `json:\\\"gas\\\"      gencodec:\\\"required\\\"`//ç”¨æˆ·æ„¿æ„æ”¯ä»˜çš„æœ€å¤§gasé‡\\n\\tRecipient    *common.Address `json:\\\"to\\\"       rlp:\\\"nil\\\"` // nil means contract creation\\n\\tAmount       *big.Int        `json:\\\"value\\\"    gencodec:\\\"required\\\"`\\n\\tPayload      []byte          `json:\\\"input\\\"    gencodec:\\\"required\\\"`\\n \\n\\t// Signature values\\n\\tV *big.Int `json:\\\"v\\\" gencodec:\\\"required\\\"`\\n\\tR *big.Int `json:\\\"r\\\" gencodec:\\\"required\\\"`\\n\\tS *big.Int `json:\\\"s\\\" gencodec:\\\"required\\\"`\\n \\n\\t// This is only used when marshaling to JSON.\\n\\tHash *common.Hash `json:\\\"hash\\\" rlp:\\\"-\\\"`\\n}\\n```\\n\\nåŒºå—çš„é«˜åº¦çš„èŠ±è´¹æƒ…å†µ\\n\\n```\\nGas Used:30,009,820 (99.94%) +100% Gas Target\\nGas Limit:30,029,295\\nBase Fee Per Gas:0.000000131296607397 Ether (131.296607397 Gwei)\\nBurnt Fees:ğŸ”¥ 3.94018755459463854 Ether\\nExtra Data:ä¸ƒå½©ç¥ä»™é±¼H\\u0004\\\" (Hex:0xe4b883e5bda9e7a59ee4bb99e9b1bc480422)\\nEther Price:$3,210.90 / ETH\\n```\\n\\nå…¶ä¸­Burnt Feesæ˜¾ç¤ºçƒ§æ¯çš„äº¤æ˜“è´¹å’Œå…¶å æ¯”,ä»¥é€‚åº” EIP-1559å¸¦æ¥çš„å˜åŒ–ã€‚\\n\\n> åœ¨EIP-1559ä¸‹ï¼Œä¸å†é‡‡ç”¨GasPriceï¼Œè€Œæ˜¯é‡‡ç”¨äº¤æ˜“è´¹ç”¨çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š\\n>\\n> äº¤æ˜“è´¹ç”¨= baseFee + min(maxFee - baseFee, priorityFee)\\n>\\n> baseFeeï¼šæ ¹æ®ç½‘ç»œæ‹¥å¡å’Œæœ€æ–°å€¼(å¯¹äºåŒºå—ç©ºé—´)æµ®åŠ¨çš„è´¹ç”¨ï¼Œå¯ä»¥é€šè¿‡æ–°çš„JSON RPCè°ƒç”¨eth_feeHistoryæ¥è·å–ã€‚åœ¨ä»¥å¤ªåŠä¸Šå‘é€äº¤æ˜“æˆ–å®Œæˆæ“ä½œæ‰€éœ€çš„æœ€ä½Gasä»·æ ¼ã€‚åŸºæœ¬è´¹ç”±åè®®è®¾ç½®ï¼Œå®ƒæ˜¯å¯å˜çš„ï¼ŒåŸºæœ¬è´¹æ˜¯ä¼šè¢«é”€æ¯çš„ã€‚\\n>\\n> priorityFee(ä¹Ÿç§°ä¸ºå°è´¹ã€çŸ¿å·¥å°è´¹)ï¼šç”¨äºå¸å¼•åŒºå—ç”Ÿäº§è€…å‚ä¸äº¤æ˜“çš„è´¹ç”¨ï¼Œä¹Ÿå°±æ˜¯å°è´¹ï¼Œç”¨æˆ·ä¸ºäº†è®©çŸ¿å·¥ä¼˜å…ˆå¤„ç†è‡ªå·±çš„äº¤æ˜“æˆ–è€…æ“ä½œï¼Œæ”¯ä»˜ç»™çŸ¿å·¥çš„å°è´¹ï¼Œç”±ç”¨æˆ·è‡ªè¡Œè®¾ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œé¢„è®¡è¿™ç¬”å°è´¹æ˜¯2 gweiã€‚\\n>\\n> maxFeeï¼šä¸ºäº†äº¤æ˜“å®Œæˆï¼Œç”¨æˆ·æ„¿æ„æ”¯ä»˜çš„æœ€é«˜ç½‘ç»œè´¹ç”¨ã€‚\\n\\n## 2. Total Difficulty & Difficulty\\n\\n`Difficullty`:ä»¥å¤ªåŠé»„çš®ä¹¦ä¸­[4.3 The Block](https://ethereum.github.io/yellowpaper/paper.pdf)ä¸­æœ‰æè¿°ã€‚è¯¥å­—æ®µæ˜¯è¡¨å¾æŒ–çŸ¿ï¼ˆå¼€é‡‡ä¸€ä¸ªå½“å‰blockï¼‰çš„éš¾åº¦ã€‚Blockçš„Difficultyç”±å…±è¯†ç®—æ³•åŸºäºparentBlockçš„Timeå’ŒDifficultyè®¡ç®—å¾—å‡ºï¼Œå®ƒä¼šåº”ç”¨åœ¨åŒºå—çš„â€˜æŒ–æ˜â€™é˜¶æ®µã€‚\\n`totalDifficulty`:ä»¥å¤ªåŠé»„çš®ä¹¦ä¸­[10. BLOCKTREE TO BLOCKCHAIN](https://ethereum.github.io/yellowpaper/paper.pdf)æœ‰æè¿°ã€‚å«ä¹‰æ˜¯ä»ç¬¬ä¸€ä¸ªå—åˆ°å½“äº²å—çš„æ€»éš¾åº¦ã€‚\\n\\n```\\nDifficulty:11,896,361,285,881,238\\nTotal Difficulty:39,150,746,388,980,509,547,746\\n```\\n\\n## 3. Block Height\\n\\nä¸€ä¸ªåŒºå—çš„é«˜åº¦æ˜¯æŒ‡åœ¨[åŒºå—é“¾](http://www.lianmenhu.com/)ä¸­å®ƒå’Œåˆ›ä¸–åŒºå—ä¹‹é—´çš„å—æ•°ã€‚\\n\\n```\\nBlock Height: 14020984\\n```\\n\\n## 4. Timestamp\\n\\nåŒºå—è¢«minedçš„æ—¶é—´å’Œæ—¥æœŸ\\n\\n```\\nTimestamp:1 day 1 hr ago (Jan-17-2022 04:59:41 AM +UTC)\\n```\\n\\n## 5. Transactions\\n\\näº¤æ˜“å¯¹è±¡æ•°ç»„ã€‚\\n\\n`Transaction`å°±æ˜¯å¤–éƒ¨è´¦æˆ·å‘èµ·çš„ï¼Œæ¯”å¦‚è¯´å‘æŸä¸ªè´¦æˆ·è½¬è´¦ï¼Œè°ƒç”¨åˆçº¦å‡½æ•°ç­‰ï¼›è€Œ`Internal Transaction`åˆ™æ˜¯åˆçº¦è´¦æˆ·å‘èµ·çš„ï¼Œæ¯”å¦‚ A åˆçº¦è°ƒç”¨äº† B åˆçº¦çš„`gift()`å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªåŠ¨ä½œå°±ä¼šè¢« etherscan æ ‡è®°ä¸ºå†…éƒ¨äº¤æ˜“ã€‚\\n\\n`Internal Transaction`å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„`Transaction`ï¼Œå®ƒæ˜¯åœ¨ä¸€ç¬”äº¤æ˜“æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåˆçº¦æ ¹æ®ä¸€å®šæ¡ä»¶ï¼Œè¿›è¡Œè½¬è´¦æˆ–è€…æ˜¯è°ƒç”¨æ–°åˆçº¦ç­‰ä¸€ç³»åˆ—åŠ¨ä½œäº§ç”Ÿçš„ç»“æœï¼Œæ­£å¦‚ etherscan ä¸Šæ ‡æ³¨çš„ä¸€æ ·ï¼Œ`Internal Transactions as a result of Contract Execution`ã€‚\\n\\n```\\nTransactions: 457 transactions and 14 contract internal transactions in this block\\n```\\n\\n### 457 transactions\\n\\n![457 transactions](https://img-blog.csdnimg.cn/84d6713743b54f80982baba5cf033d62.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARmVlbFRvdWNo,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)\\n\\n### 14 contract internal transactions\\n\\n![14 contract internal transactions](https://img-blog.csdnimg.cn/2a6c532b392246ab8a4efc05465f8bd0.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARmVlbFRvdWNo,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)\\n\\nå…¸å‹ç‰¹ç‚¹æ˜¯å†…éƒ¨call\\n\\n## 6. Reward\\n\\nä»¥å¤ªåŠçš„åŒºå—æœ‰ä¸¤ç§ï¼Œæ™®é€šåŒºå—å’Œå”å—ï¼Œæˆ‘ä»¬éœ€è¦åˆ†æƒ…å†µæ¥è®¨è®ºæ¯ç§åŒºå—çš„å¥–åŠ±ã€‚\\n\\n```\\næ€»å¥–åŠ± = å›ºå®šå¥–åŠ± + Gaså¼€é”€ + åŒ…å«å”å—å¥–åŠ±\\n```\\n\\n**æ™®é€šåŒºå—å¥–åŠ±ï¼š**\\n\\n* **å›ºå®šå¥–åŠ±NETHï¼Œæ¯ä¸ªæ™®é€šåŒºå—éƒ½æœ‰**\\n* **åŒºå—å†…åŒ…å«çš„æ‰€æœ‰ç¨‹åºçš„GasèŠ±è´¹çš„æ€»å’Œ**\\n* **å¦‚æœæ™®é€šåŒºå—åŒ…å«äº†å”å—ï¼Œå”å—å¥–åŠ±è§ä¸‹é¢å…¬å¼ã€‚**\\n\\n**å”å—å¥–åŠ±**ï¼š\\n\\n**å”å—å¥–åŠ± = ( å”å—é«˜åº¦ + 8 - åŒ…å«å”å—çš„åŒºå—çš„é«˜åº¦ ) \\\\* æ™®é€šåŒºå—å¥–åŠ± / 8**\\n\\n* æ‰“åŒ…åŒºå—é«˜åº¦åœ¨\\\\[0,5000000)åŒºé—´æ—¶ï¼Œè®¡ç®—å…¬å¼ï¼š\\n\\nreward = (uncle_height - block_height + 8)/8 \\\\* N ETH\\n\\n* æ‰“åŒ…åŒºå—é«˜åº¦åœ¨\\\\[5000000, å½“å‰ï¼‰ï¼Œè®¡ç®—å…¬å¼ï¼š\\n\\nreward = æŒ–çŸ¿å¥–åŠ±/32\\n\\n* **åŒ…å«å”å—å¥–åŠ±æŒ‡ä»€ä¹ˆæ„æ€ï¼Ÿ**\\n* å”å—çš„é«˜åº¦æ˜¯å¤šå°‘ï¼Ÿ\\n* ä¸ºä»€ä¹ˆå«å”å—ï¼Ÿ\\n* å”å—ä¸­çš„äº¤æ˜“æ€ä¹ˆåŠï¼Ÿ\\n* å¯ä»¥æ¥å—å¤šå°‘ä¸ªå”å—ï¼Ÿ\\n* å”å—ç‡å«ä¹‰ï¼Ÿ\\n\\n  [ä»¥å¤ªç½‘çŠ¶æ€åˆ†æå¹³å°](https://etherchain.org/miner)\\n\\n![å”å—(Uncle Block)](https://images.mirror-media.xyz/publication-images/TCc_pvFz50Db6foXs4i8p.png?height=240&width=600)\\n\\n```\\nMined by:0x829bd824b016326a401d083b33d092293333a830 (F2Pool Old) in 22 secs\\nBlock Reward:21.83401614942464323 Ether (2 + 23.77420370401928177 - 3.94018755459463854)\\nUncles Reward:0\\n```\\n\\n## 8. åŒºå—å¤§å° Size\\n\\nå½“å‰åŒºå—çš„å­—èŠ‚å¤§å°ï¼Œä»£è¡¨äº†ä¸€ä¸ªåŒºå—èƒ½å®¹çº³å¤šå°‘æ•°æ®çš„èƒ½åŠ›ã€‚å¤§å°ç”±ä»€ä¹ˆæ¥å†³å®šå‘¢ï¼ŸGas limit\\n\\n```\\nSize:60,659 bytes\\n```\\n\\n## 9. Hash\\n\\n* Blockï¼ˆåŒºå—ï¼‰æ˜¯Ethereumçš„æ ¸å¿ƒæ•°æ®ç»“æ„ä¹‹ä¸€ã€‚æ‰€æœ‰è´¦æˆ·çš„ç›¸å…³æ´»åŠ¨ï¼Œä»¥äº¤æ˜“(Transaction)çš„æ ¼å¼å­˜å‚¨ï¼Œæ¯ä¸ªBlockæœ‰ä¸€ä¸ªäº¤æ˜“å¯¹è±¡çš„åˆ—è¡¨ï¼›æ¯ä¸ªäº¤æ˜“çš„æ‰§è¡Œç»“æœï¼Œç”±ä¸€ä¸ªReceiptå¯¹è±¡ä¸å…¶åŒ…å«çš„ä¸€ç»„Logå¯¹è±¡è®°å½•ï¼›æ‰€æœ‰äº¤æ˜“æ‰§è¡Œå®Œåç”Ÿæˆçš„Receiptåˆ—è¡¨ï¼Œå­˜å‚¨åœ¨Blockä¸­(ç»è¿‡å‹ç¼©åŠ å¯†)ã€‚\\n* Hash: **å½“å‰åŒºå—çš„å“ˆå¸Œå€¼**ã€‚å¦‚æœåŒºå—æ²¡æœ‰è¢«ç¡®è®¤ï¼Œè¿™ä¸ªå­—æ®µä¼šæ˜¯nullå€¼ã€‚\\n* ParentHash: çˆ¶åŒºå—å¤´çš„Hashå€¼ï¼Œä¸åŒBlockä¹‹é—´ï¼Œé€šè¿‡å‰å‘æŒ‡é’ˆParentHashä¸€ä¸ªä¸€ä¸ªä¸²è”èµ·æ¥æˆä¸ºä¸€ä¸ªå•å‘é“¾è¡¨ã€‚\\n* receiptsRoot: åŒ…å«æ­¤åŒºå—æ‰€åˆ—çš„**æ‰€æœ‰äº¤æ˜“æ”¶æ®çš„æ ‘**çš„æ ¹èŠ‚ç‚¹Hashå€¼\\n* Sha3Uncles: **æ•°æ®å—**çš„å“ˆå¸Œå€¼\\n* StateRoot: åŒºå—**çŠ¶æ€æ ‘**çš„æ ¹å“ˆå¸Œ\\n\\n```\\nHash:\\n0xcb9412b2d60c93a4e7296951129770aef07c131bf3f830c5d11f5ba40e64d308\\nParent Hash:\\n0x04f964549bbd6809096d013a4b72fa880167b437ea46867eef9f2888b70244da\\nSha3Uncles:\\n0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\\nStateRoot:\\n0xfb55fa95d8c8dc0594267ae31481a02af131088bce98f11676df24020569104c\\n```\\n\\n## 10. Nonce\\n\\n```\\nnonce: QUANTITY - (optional) Integer of a nonce. This allows to overwrite your own pending transactions that use the same nonce.\\n```\\n\\nè¿™é‡Œçš„æ˜¯äº¤æ˜“ä¸‹çš„nonceå€¼ï¼Œæ˜¯è´¦æˆ·å‘èµ·äº¤æ˜“æ‰€ç»´æŠ¤çš„nonceï¼Œä¸€ä¸ªäº¤æ˜“å¯¹åº”ä¸€ä¸ªnonceå€¼ï¼Œæ³¨æ„åŒºåˆ†åŒºå—ä¸­çš„nonceï¼ŒåŒºå—ä¸­çš„nonceæ˜¯ç”¨äºPOWçš„nonceã€‚æ¯å‘èµ·ä¸€ç¬”äº¤æ˜“ï¼Œnonceå°±ä¼šåŠ ä¸€ï¼ˆnonce è®¡æ•°ä» 0 å¼€å§‹ï¼Œå¦‚æœä½ çš„è´¦æˆ·æœ‰5ç¬”è½¬å‡ºäº¤æ˜“ï¼Œé‚£ä¹ˆæœ€åä¸€æ¬¡çš„nonceå€¼ä¼šæ˜¯4ï¼‰ã€‚\\n\\n```\\n    å¯¹äºå‘èµ·çš„è§£é‡Šï¼š\\n    1.å¤–éƒ¨è´¦æˆ·ï¼ˆEOAï¼‰æ¯å‘é€ä¸€ç¬”äº¤æ˜“ï¼›\\n    2.åˆçº¦è´¦æˆ· (Contract Wallet)  æ¯åˆ›å»ºä¸€ä¸ªåˆçº¦\\n\\n    è€Œè½¬å…¥äº¤æ˜“ã€åˆçº¦è°ƒç”¨å…¶ä»–åˆçº¦ç­‰å±äºå†…éƒ¨è°ƒç”¨ï¼Œå› æ­¤ nonce å€¼ä¸å˜ã€‚\\n```\\n\\n**ä½œç”¨**\\n\\n* ç¡®å®šäº¤æ˜“é¡ºåºï¼Œå¦‚æœä½ å‰åå‘é€äº†ä¸¤ç¬”äº¤æ˜“ï¼Œæƒ³è¦å®ƒä»¬è¢«é¡ºåºæ‰“åŒ…ï¼Œé‚£ä¹ˆçŸ¿å·¥å°±å¯ä»¥æŒ‰ç…§ nonce çš„é¡ºåºè¿›è¡Œæ‰“åŒ…ã€‚\\n* é˜²æ­¢é‡æ”¾æ”»å‡»ï¼Œå¦‚æœæ²¡æœ‰ nonce ï¼Œäº¤æ˜“ä¿¡æ¯è¢«ç”Ÿæˆåºåˆ—åˆ«äººå¯ä»¥çœ‹åˆ°å¹¶é‡å¤æäº¤ï¼Œä»è€Œæç©ºä½ çš„é’±åŒ…ã€‚æœ‰äº† nonce ï¼Œç”Ÿæˆåºåˆ—ååŒä¸€ nonce çš„äº¤æ˜“åªèƒ½è¢«æ‰“åŒ…ä¸€æ¬¡ã€‚\\n* åŠ é€Ÿäº¤æ˜“ï¼ŒåŸºäº nonce çš„ç‰¹æ€§ï¼Œè‡ªå¢å’Œå”¯ä¸€æ€§ï¼Œä½¿ç”¨ç›¸åŒçš„ nonce é‡æ–°å‘èµ·äº¤æ˜“å³å¯å®ç°åŠ é€Ÿã€‚ä¾‹ï¼šå¦‚æœä¸€ç¬”äº¤æ˜“A gas price = 5,nonce = 1,å¹¿æ’­åäº¤æ˜“å¤„äºpendingçŠ¶æ€ï¼Œåˆ›å»ºäº¤æ˜“Bè®¾ç½® gas price æ›´é«˜ï¼Œå¦‚10ã€20 , nonce=1ï¼Œå†æ¬¡å‘å¸ƒäº¤æ˜“ï¼Œæ­¤æ—¶åœ¨çŸ¿å·¥çš„äº¤æ˜“æ± ç«¯ï¼ŒB äº¤æ˜“å…ˆè¢«æ‰“åŒ…äº†ï¼ŒçŸ¿å·¥ä¼šæ£€æŸ¥ A äº¤æ˜“ï¼Œå‘ç° nonce å·²ç»å­˜åœ¨äº†ï¼Œè®¤ä¸º A æ˜¯ä¸åˆç†çš„äº¤æ˜“ï¼Œåˆ™ä¼šè‡ªåŠ¨ä¸¢å¼ƒè¯¥äº¤æ˜“ã€‚ï¼ˆå¦‚æœäº¤æ˜“è¢«æ‰“åŒ…ï¼Œå³é pending çŠ¶æ€ï¼Œåˆ™æ˜¯ä¸å¯é€†çš„ï¼Œå°±æ— æ³•å–æ¶ˆæˆ–åŠ é€Ÿäº†ï¼‰\\n* å–æ¶ˆäº¤æ˜“ã€‚åŸºäºåŠ é€Ÿäº¤æ˜“çš„æ¡ˆä¾‹ã€‚åˆ›å»ºäº¤æ˜“ Bï¼Œè®¾ç½® value =0 nonce = 1(ä¹Ÿå°±æ˜¯ A äº¤æ˜“çš„nonceå€¼)ï¼Œæ”¶æ¬¾æ–¹=å‘é€æ–¹ï¼Œè®¾ç½®æ›´é«˜çš„ gas price ï¼Œå¹¿æ’­äº¤æ˜“ï¼ŒåŸæ¥çš„äº¤æ˜“è¢«ä¸¢å¼ƒäº†ï¼Œæ–°äº¤æ˜“ä¼šè¢«çŸ¿å·¥æ‰“åŒ…ï¼Œä¸ä¼šä¸¢å¤±ä»»ä½•èµ„é‡‘ã€‚ä½†æ˜¯ä½ è¿˜æ˜¯éœ€è¦ä¸º B äº¤æ˜“ä»˜å‡ºçŸ¿å·¥è´¹ã€‚\\n\\nä½¿ç”¨è§„åˆ™\\n\\n* å½“nonceå¤ªå°ï¼ˆå°äºå½“å‰çš„nonceå€¼ï¼‰ï¼Œäº¤æ˜“ä¼šè¢«ç›´æ¥æ‹’ç»ï¼ŒTransactions with too low a nonce get immediately rejectedï¼›\\n* å½“ nonce å¤ªå¤§ï¼Œå¤§äºå½“å‰ nonceï¼Œäº¤æ˜“ä¼šä¸€ç›´å¤„äºé˜Ÿåˆ—ä¹‹ä¸­ï¼ŒTransactions with too high a nonce get placed in the transaction pool queueï¼›\\n* å½“å‘é€ä¸€ä¸ªæ¯”è¾ƒå¤§çš„nonceå€¼ï¼Œç„¶åè¡¥é½å¼€å§‹ nonce åˆ°é‚£ä¸ªå€¼ä¹‹é—´çš„nonceï¼Œé‚£ä¹ˆäº¤æ˜“ä¾æ—§å¯ä»¥è¢«æ‰§è¡Œï¼ŒIf transactions with nonces that fill the gap between the last valid nonce and the too high nonce are sent and the nonce sequence is complete, all the transactions in the sequence will get processed and mined.\\n* äº¤æ˜“é˜Ÿåˆ—åªä¿å­˜æœ€å¤š64ä¸ªä»åŒä¸€ä¸ªè´¦æˆ·å‘å‡ºçš„äº¤æ˜“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦æ‰¹é‡è½¬è´¦ï¼ŒåŒä¸€èŠ‚ç‚¹ä¸è¦å‘å‡ºè¶…è¿‡64ç¬”äº¤æ˜“ã€‚ The transaction pool queue will only hold a maximum of 64 transactions with the same From:address with nonces out of sequence.\\n* å½“æŸèŠ‚ç‚¹ queue ä¸­è¿˜æœ‰äº¤æ˜“ï¼Œä½†æ­¤æ—¶åœæ­¢ geth å®¢ï¿½ï¿½ï¿½ç«¯ï¼Œqueue ä¸­çš„äº¤æ˜“ä¼šè¢«æ¸…é™¤æ‰ï¼ŒWhen the geth instances are shut down and restarted, transactions in the transaction pool queue disappear. å½“å‰ nonce åˆé€‚ï¼Œä½†æ˜¯è´¦æˆ·ä½™é¢ä¸è¶³æ—¶ï¼Œä¼šè¢«ä»¥å¤ªåŠæ‹’ç»ï¼›\\n\\n```\\nNonce:0x38e71300043edacf\\n```\\n\\n## 11. Mined by\\n\\nå–å¾—è¯¥åŒºå—è®°è´¦æƒçš„çŸ¿å·¥\\n\\n```\\nMined by:\\n0x829bd824b016326a401d083b33d092293333a830 (F2Pool Old) in 22 secs\\n```\",\"timestamp\":1642500284,\"title\":\"Etherscanè§’åº¦ç®€æ14020984åŒºå—ä¿¡æ¯\"},\"digest\":\"KGBzV3Ef5nqTGouIJH1Q9dCaL8bSOqKvZXYFSrrsq1g\",\"authorship\":{\"contributor\":\"0x9B5b7b8290c23dD619ceaC1ebcCBad3661786f3a\",\"signingKey\":\"{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"Cb5gIMM6zXis-8vaeeWpdgQB8AN7HvJahmvn5D5tkgg\\\",\\\"y\\\":\\\"-HvBVcBXYsmBIx9SNTXANeyKMSokWHLLTLq30m6SjJk\\\"}\",\"signature\":\"p_y0EmcEkOqKFvIdsr1yee019elpwwEGbC3vQfuzoVRmCEFUOJOJxqUwcdIFC4fq5wx7dxjjSC2c4BnkJ0ROdQ\",\"signingKeySignature\":\"0x8269b276b2ba6fb8b852f7b3acdb2e29672b68adb3cd4fc54f8131c986767d3d5d9a7af5c83f682fc118a7d9da33dfbba7edc0741fc2fba21686fba26165b1411b\",\"signingKeyMessage\":\"I authorize publishing on mirror.xyz from this device using:\\n{\\\"crv\\\":\\\"P-256\\\",\\\"ext\\\":true,\\\"key_ops\\\":[\\\"verify\\\"],\\\"kty\\\":\\\"EC\\\",\\\"x\\\":\\\"Cb5gIMM6zXis-8vaeeWpdgQB8AN7HvJahmvn5D5tkgg\\\",\\\"y\\\":\\\"-HvBVcBXYsmBIx9SNTXANeyKMSokWHLLTLq30m6SjJk\\\"}\",\"algorithm\":{\"name\":\"ECDSA\",\"hash\":\"SHA-256\"}},\"nft\":{},\"version\":\"12-21-2020\",\"originalDigest\":\"9GH9xNO3uj9cjNPj9WptZbQBNLLZO_IKSigNRUYW0mg\"}"